package pageClasses;

import java.util.List;

import org.openqa.selenium.By;
import org.openqa.selenium.Dimension;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;

public class RecordPatientConditionsPage {
	//RecordPatientConditionsPage obj_RecordPatCondition=new RecordPatientConditionsPage();
	/* click patient name  */
	public static By clickPatName()
	{		
		//return By.xpath("//a[@href='/openmrs/spa/patient/b242575a-0bd2-4a50-a928-247d61b116df/chart']");		
		//return By.xpath("(//table//tr[td/a[text()='Aayansh2 patil2']])[2]");		
	/*	//a[contains(@class, 'appointments-table__link') and contains(@href, '/chart')] */		
		//return By.xpath("(//a[text()='Aayansh patil'])[2]");
		
		return By.xpath("//a[text()='brandan mark']");
	}
	/* click patient name  */
	public static By clickOnRecordConditionLink()
	{
		return By.xpath("(//button[@class='cds--btn cds--btn--sm cds--layout--size-sm cds--btn--ghost'])[1]");	
				
	}
	
	
	public static By clickONSearchCondition() {
		
		return By.xpath("//input[@class='cds--search-input']");
	}
	
	/*  click on calendar for Date Time */
	public static By clickOnCalendar() {
		//return By.xpath("//button[contains(@aria-label, 'Calendar')]");		
		//return By.xpath("//*[local-name()='button' and @id='react-aria2724544189-:r94:']");		
		return By.xpath("(//button[contains(@aria-label, 'Calendar')])");						
	}
	/* click on day  */
	public static By clickOnDay() {
		return (By.xpath("//span[@data-type='day']"));
	}
	/* click on Month  */
	public static By clickOnMonth() {
		return (By.xpath("//span[@data-type='month']"));
	}
	/* click on year  */
	public static By clickOnYear() {
		return (By.xpath("//span[@data-type='year']"));
	}
	
	/* Select Clicnical Status */
	
	public static By selectClinicalStatus() {
		
		return By.xpath("(//span[@class='cds--radio-button__appearance'])[1]");	
	}
	public static By clickOnSaveAndClose() {
		return By.xpath("//button[@type='submit']");
	}
	
	
	 public static int getConditionRowCount(WebDriver driver) {
		 List<WebElement> conditionRows= (List<WebElement>) driver.findElements(By.xpath("//section[contains(@class, 'conditions-overview__tableContainer')]//tbody/tr"));
	        
	     return conditionRows.size();		
		 
	    }
//	 public List<WebElement> getConditionRows(WebDriver driver) {
//	          List<WebElement> rowscount= driver.findElements(By.xpath("//section[contains(@class, 'conditions-overview__tableContainer')]//tbody/tr"));
//	        return rowscount;
//	    }
	// int count=obj_RecordPatCondition.getConditionRowCount(null);
	 
	 public boolean isConditionDisplayed(String condition, String date, String status) {
		 RecordPatientConditionsPage obj_RecordPatCondition=new RecordPatientConditionsPage();
		 
		 
		 List<WebElement> rowscount = getConditionRowCount();
		 
	        for (WebElement row : rowscount) {
	            List<WebElement> cols = row.findElements(By.tagName("td"));
	            if (cols.size() >= 3) {
	                String cond = cols.get(0).getText().trim();
	                String dt = cols.get(1).getText().trim();
	                String stat = cols.get(2).getText().trim();
	                if (cond.equalsIgnoreCase(condition) && dt.equalsIgnoreCase(date) && stat.equalsIgnoreCase(status)) {
	                    return true;
	                }
	            }
	        }
	        return false;
	    }
	 
}
