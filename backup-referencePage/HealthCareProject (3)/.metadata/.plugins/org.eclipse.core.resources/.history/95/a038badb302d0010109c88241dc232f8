package pageClasses;
import java.util.List;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
public class RecordPatientVitalsPage {
	
	/* fetching the patient ID */
	public void getPatientID() {
	By patientLink=By.xpath("//table//tr[td/a[text()='Kavita patil']]");
	 By patientID = By.xpath("//table//tr[td/a[text()='Kavita patil']]/td[3]");
	System.out.println("Extracted Patient name: " + patientLink);
	System.out.println("Extracted Patient ID: " + patientID);
	
	}

	/* click patient name  */
	public static By clickPatName()
	{		
		//return By.xpath("//a[@href='/openmrs/spa/patient/b242575a-0bd2-4a50-a928-247d61b116df/chart']");
		
		//return By.xpath("//table//tr[td/a[text()='Aayansh1 patil1']]");
		
		//return By.xpath("(//table//tr[td/a[text()='Aayansh2 patil2']])[2]");
		
	/*	//a[contains(@class, 'appointments-table__link') and contains(@href, '/chart')] */
		
		return By.xpath("(//a[text()='Aayansh2 patil2'])[2]");
	}
	
	public static By recordVitals()
	{
		return	By.xpath("(//button[@class='cds--btn cds--btn--sm cds--layout--size-sm cds--btn--ghost'])[1]");
	}
	
	public static By enterTemprature()
	{
		 return By.xpath("//input[@name='Temperature']");
		
	}
	
	public static By enterSystolic()
	{
		return	By.xpath("//input[@name='systolic']");
	}
	
	public static By enterDiastolic()
	{
		return	By.xpath("//input[@name='diastolic']");
	}
	
	public static By enterHeartRate()
	{
		return	By.xpath("//input[@name='Pulse']");
	}
	public static By enterRespirationRate()
	{
		return	By.xpath("//input[@name='Respiration rate']");
	}
	public static By enterOxygenSaturation()
	{
		return	By.xpath("//input[@name='Oxygen saturation']");
	}
	public static By enterNotes()
	{
		return	By.xpath("//textarea[@name='Notes']");
	}
	public static By enterWeight()
	{
		return	By.xpath("//input[@name='Weight']");
	}
	public static By enterHeight()
	{
		return	By.xpath("//input[@name='Height']");
	}
	public static By enterMUAC()
	{
		return	By.xpath("//input[@name='MUAC']");
	}
	public static By submitDetails()
	{
		return	By.xpath("//button[@type='submit']");
	}
	
	public static By vitalTable ()
	{
		return	By.xpath("//table[@aria-label='vitals']//tbody//tr/td");
	}
	private static By vitalTable=By.xpath("//table[@aria-label='vitals']//tbody//tr/td");
//	private By dateTime=By.xpath("//table[@aria-label='vitals']//tbody//tr/td[1]");
//	private By tempreture=By.xpath("//table[@aria-label='vitals']//tbody//tr/td[2]");
//	private By bp=By.xpath("//table[@aria-label='vitals']//tbody//tr/td[3]");
//	private By pulse=By.xpath("//table[@aria-label='vitals']//tbody//tr/td[4]");
//	private By rRate=By.xpath("//table[@aria-label='vitals']//tbody//tr/td[5]");
//	
//	
//	public static By validateDateTime()
//	{
//		By vitalTable=By.xpath("//table[@aria-label='vitals']//tbody//tr/td[1]");
//		return vitalTable;
//	}
//	public static By validateTempreture()
//	{
//		return	By.xpath("//table[@aria-label='vitals']//tbody//tr/td[2]");
//	}
//	public static By validateBP ()
//	{
//		return	By.xpath("//table[@aria-label='vitals']//tbody//tr/td[3]");
//	}
	
	// Method to get the last row of the table
    public static WebElement getLastRow(WebDriver driver) {
        WebElement table = driver.findElement(vitalTable);
        List<WebElement> rows = table.findElements(By.tagName("tr"));
        return rows.get(rows.size() - 1); // Get last row
    }

    // Method to get the date-time from the last row (assumes date-time is in column 0)
    public static String getDateTimeFromLastRow(WebDriver driver) {
        WebElement lastRow = getLastRow(driver);
        List<WebElement> cells = lastRow.findElements(By.tagName("td"));
        System.out.println("date time : "+cells.get(0).getText());
        return cells.get(0).getText(); // Assuming date-time is in first column
    }

}
